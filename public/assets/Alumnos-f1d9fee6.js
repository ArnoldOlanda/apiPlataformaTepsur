import{f as _,g as N,r,b as a,j as p,l as c}from"./index-b05c3593.js";import{T as j,V as y}from"./TableCRUD-26e7d6da.js";import{C as E}from"./CustomActionCRUD-56f80e1a.js";import{P as L}from"./Page-87bac860.js";import{u as P}from"./useStudent-6f983651.js";import{H as V,S as $}from"./SearchBar-7bd1490d.js";import{C as H}from"./CustomSelectSearchLabel-0730f57a.js";import"./RowCRUD-b35830b8.js";import"./TableRow-52fc41de.js";import"./TableContainer-10b5223d.js";import"./TableHead-f4539647.js";import"./MenuItem-d8a67f6c.js";import"./GlobalAlerts-e291f7f6.js";import"./careers.service-c54b684b.js";import"./CustomSelectSearch-f02217ed.js";import"./Autocomplete-7a426b1a.js";import"./CircularProgress-eeae7465.js";import"./InputAdornment-b1693cda.js";import"./utilities-59a1cf49.js";import"./Tooltip-8a46e05f.js";import"./index-3b733f26.js";const le=({toggleDrawer:d})=>{const f=_(),{isLoading:k,token:b,user:m}=N(e=>e.user),l=e=>e.map(t=>({uuid:t.uuid,nombres:`${t.nombres} ${t.ape_paterno} ${t.ape_materno}`,nombresAl:t.nombres,paterno:t.ape_materno,materno:t.ape_paterno,dni:t.dni,celular:t.celular,correo:t.correo})),g={token:b,sede:m.sede.uuid,anio:new Date().getFullYear(),mes:new Date().getMonth(),searchFor:"-",search:"",carrEspe:"",modulo:"",ape_materno:"",ape_paterno:"",dni:"",nombres:"",edit:!1,sexo:"",edad:""},S=P(g),[o,u]=r.useState([]),{formState:n,data:s,onInputChange:h,getListStudents:x,getListCareers:O,sedes:C,setFormState:D}=S,v=[...C.map(e=>({label:e.nombre,value:e.uuid}))],[i,A]=r.useState(m.sede.uuid),w=({target:e})=>{e.value!=""&&A(e.value)},F=[a(E,{action:e=>{f(`/home/alumno/${o[e].uuid}`)},children:a(y,{})})];return r.useEffect(()=>{x(i)},[i,n.anio]),r.useEffect(()=>{u(l(s))},[s]),a(L,{title:"Alumnos",toggleDrawer:d,children:p(c,{gap:2,maxHeight:"100%",children:[a(V,{flex:0,formState:n,setFormState:D,onlyYear:!0}),p(c,{flexDirection:"row",gap:3,justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",children:[a($,{flex:1,data:o,formState:n,onInputChange:h,OriginalData:l(s),setData:u,vOpt:!0,sort:!0,sortlist:I}),a(H,{mt:1,flex:0,required:!0,label:"Sede",value:i,onChange:w,options:v})]}),a(j,{data:o,headers:T,dataTypes:M,extraActions:F,rows:25})]})})},I=[{label:"Nombres",value:"nombres"},{label:"Ap. Paterno",value:"paterno"},{label:"Ap. Materno",value:"materno"}],M=["dni","nombresAl","paterno","materno","celular","correo"],T=[{name:"DNI",align:"center"},{name:"Nombres",align:"center"},{name:"Ap. Paterno",align:"center"},{name:"Ap. Materno",align:"center"},{name:"Celular",align:"center"},{name:"Correo",align:"center"}];export{le as default};
