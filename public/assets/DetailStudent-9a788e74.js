import{U as D,b as e,V as L,j as a,u as W,r as A,Q as J,an as Q,ao as Y,ap as K,aq as X,ar as Z,l,as as ee,T as d,W as $,n as ae,ah as te,G as ne,a as re,g as ie,E as oe,at as le,q as ce}from"./index-b05c3593.js";import{P as se}from"./Page-87bac860.js";import{S as de,E as me,a as he,b as ue}from"./EUbication-78bfa379.js";import{u as ge}from"./useStudent-6f983651.js";import{g as pe,c as k}from"./utilities-59a1cf49.js";import{T as E,S as xe}from"./TableRowCustom-f60afab4.js";import{T}from"./TableContainer-10b5223d.js";import{b as x,a as m,T as t,c as f}from"./TableRow-52fc41de.js";import{T as C}from"./TableHead-f4539647.js";import{B as fe,N as be}from"./Breadcrumbs-47eb73f7.js";import{S as ve}from"./Save-65a6da06.js";import"./TextfieldsTools-ddad1e93.js";import"./SelectCustom-ab67c468.js";import"./MenuItem-d8a67f6c.js";import"./CircularProgress-eeae7465.js";import"./Person-b92946bf.js";import"./CustomSelectSearch-f02217ed.js";import"./Autocomplete-7a426b1a.js";import"./GlobalAlerts-e291f7f6.js";import"./careers.service-c54b684b.js";import"./Tooltip-8a46e05f.js";const ye=D(e("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),Se=D(e("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"}),"Assignment"),we=D(e("path",{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"}),"Verified"),Ae=({pagosForm:i})=>e(T,{component:L,sx:{maxHeight:"200px"},children:a(x,{size:"small",sx:{alignSelf:"flex-start"},stickyHeader:!0,children:[e(C,{children:a(m,{children:[e(t,{align:"center",children:"Estado"}),e(t,{align:"center",children:"Fecha limite"}),e(t,{align:"center",children:"descripcion"}),e(t,{align:"center",children:"monto"}),e(t,{align:"center",children:"Ir"})]})}),e(f,{children:i.map((n,o)=>a(m,{children:[e(t,{align:"center",children:n.estado}),e(t,{align:"center",children:n.limite}),e(t,{align:"center",children:n.descripcion}),e(t,{align:"center",children:n.monto}),e(t,{align:"center",children:e(Link,{to:`/home/pagar-deuda/${n.uuid}`,children:e(IconButton,{children:e(ArrowForward,{sx:{height:20,width:20,color:"gray"}})})})})]},`pago ${o}`))}),i.length==0&&e("caption",{style:{textAlign:"center"},children:"No hay datos para mostrar"})]})}),De=({modulesForm:i})=>e(T,{component:L,sx:{maxWidth:"100%",maxHeight:"200px"},children:a(x,{size:"small",sx:{alignSelf:"flex-start"},stickyHeader:!0,children:[e(C,{children:a(m,{children:[e(t,{align:"center",children:"Modulo"}),e(t,{align:"center",children:"Horario"}),e(t,{align:"center",children:"Fecha inicio"}),e(t,{align:"center",children:"Modalidad"}),e(t,{align:"center",children:"Estado"})]})}),e(f,{children:i.map((n,o)=>a(m,{children:[e(t,{align:"center",children:n.nombre}),e(t,{align:"center",children:n.horario}),e(t,{align:"center",children:n.fechaInicio}),e(t,{align:"center",children:n.modalidad!="-"?Te[n.modalidad]:"-"}),e(t,{align:"center",children:Le[n.estado]})]},`modulo ${o}`))}),i.length==0&&e("caption",{style:{textAlign:"center"},children:"No hay datos para mostrar"})]})}),Le={matriculado:"Matriculado",matriculado_culminado:"Culminado",en_curso:"En Curso",culminado:"Culminado",por_llevar:"Por llevar"},Te={presencial:"Presencial",virtual:"Virtual"},Ce=({certifications:i})=>e(T,{component:L,sx:{maxWidth:"100%",maxHeight:"200px"},children:a(x,{size:"small",sx:{alignSelf:"flex-start"},stickyHeader:!0,children:[e(C,{children:a(m,{children:[e(t,{align:"center",children:"DescripciÃ³n"}),e(t,{align:"center",children:"Url"}),e(t,{align:"center",children:"Acciones"})]})}),e(f,{children:i.map((n,o)=>a(m,{children:[e(t,{align:"center",children:n.descripcion}),e(t,{align:"center",children:n.url})]},`modulo ${o}`))}),i.length==0&&e("caption",{style:{textAlign:"center"},children:"No hay datos para mostrar"})]})}),Me=({matricula:i})=>{const n=W(),[o,M]=A.useState(!1),b=()=>{M(!o)},s=(p=[])=>p.map((r,h)=>({uuid:r.uuid??`${h}`,nombre:r.modulo.nombre??"-",horario:r.horario?`${r.horario.hora_inicio} - ${r.horario.hora_fin} / ${pe(r.horario.dias)}`:"-",modalidad:r.modalidad!=""&&r.modalidad!=null?r.modalidad:"-",fechaInicio:r.fecha_inicio?k(r.fecha_inicio):"-",estado:r.estado})),v=(p=[])=>p.map((r,h)=>({uuid:r.uuid??`${h}`,limite:r.fecha_limite?k(r.fecha_limite):"-",monto:r.monto??"-",pago:r.pago,descripcion:`Mensualidad ${ke[r.mes]}`,estado:r.estado})),y=[...s(i.matriculaModulosModulo)],g=[...v(i.pensiones)];return a(J,{children:[a(Q,{sx:{backgroundColor:n.palette.background.defaul2,border:`1px solid ${n.palette.background.border}`,mb:2,py:3,borderRadius:2},onClick:b,children:[e(Y,{sx:{fontWeight:"bold"},primary:i?i.carrera.nombre:"-"}),o?e(K,{}):e(X,{})]}),e(Z,{in:o,timeout:"auto",unmountOnExit:!0,sx:{backgroundColor:n.palette.background.defaul2,border:`1px solid ${n.palette.background.border}`,p:3,mb:2,borderRadius:2},children:a(l,{gap:3,children:[a(l,{flex:1,maxWidth:"100%",gap:2,children:[a(l,{flexDirection:"row",alignItems:"center",gap:2,children:[e(ee,{}),e(d,{component:"h1",variant:"body1",sx:{textAlign:"left"},fontWeight:"medium",children:"Datos de Matricula"}),e($,{to:`/home/matricula/${i.uuid}`,children:e(ae,{children:e(ye,{sx:{height:20,width:20,color:"gray"}})})})]}),e(x,{size:"small",sx:{alignSelf:"flex-start"},children:a(f,{children:[e(E,{align:"right",name:"Carrera",value:i?i.carrera.nombre:"-"}),e(E,{align:"right",name:"Sede",value:i?i.sede.nombre:"-"})]})})]}),a(l,{flex:1,flexDirection:"column",columnGap:5,rowGap:3,flexWrap:"wrap",justifyContent:"space-between",sx:{maxWidth:"100%"},children:[a(l,{flex:1,gap:2,children:[a(l,{flexDirection:"row",alignItems:"center",gap:2,children:[e(xe,{}),e(d,{component:"h1",variant:"body1",sx:{textAlign:"left"},fontWeight:"medium",children:"Pagos"})]}),e(Ae,{pagosForm:g})]}),a(l,{flex:1,gap:2,sx:{maxWidth:"100%"},children:[a(l,{flexDirection:"row",alignItems:"center",gap:2,children:[e(Se,{}),e(d,{component:"h1",variant:"body1",sx:{textAlign:"left"},fontWeight:"medium",children:"Modulos"})]}),e(De,{modulesForm:y})]}),a(l,{flex:1,gap:2,sx:{maxWidth:"100%"},children:[a(l,{flexDirection:"row",alignItems:"center",gap:2,children:[e(we,{}),e(d,{component:"h1",variant:"body1",sx:{textAlign:"left"},fontWeight:"medium",children:"Certificados"})]}),e(Ce,{certifications:[]})]})]})]})})]})},ke={1:"Enero",2:"Febrero",3:"Marzo",4:"Abril",5:"Mayo",6:"Junio",7:"Julio",8:"Agosto",9:"Setiembre",10:"Octubre",11:"Noviembre",12:"Diciembre"},Xe=({toggleDrawer:i})=>{const{id:n}=te(),o=ne(),b=new URLSearchParams(o.search).get("edit"),[s,v]=A.useState(b??!1),y=W(),g=re(y.breakpoints.up("sm")),{user:p,isLoading:r,token:h}=ie(u=>u.user),P={token:h,uuid:n,anio:new Date().getFullYear(),mes:new Date().getMonth(),searchFor:"",search:"",nombres:"",ape_paterno:"",ape_materno:"",celular:"",celReferencia:"",correo:"",edad:"",dni:"",sexo:"",grado:"",departamento:"",provincia:"",distrito:"",direccion:"",residencia:""},z=ge(P),{formState:S,onInputChange:w,grados:H,setUbication:I,departamentos:F,distritos:_,provincias:B,getListDistritos:R,getListProvincias:N,getStudent:U,alumno:c,loading:V,editStudent:j}=z,G={departamentos:F,distritos:_,provincias:B,getListDistritos:R,getListProvincias:N},O=()=>{v(!s)},q=u=>{u.preventDefault(),j(O)};return A.useEffect(()=>{U(n)},[]),c==-1?e(oe,{}):e(se,{toggleDrawer:i,customTitle:!0,title:a(fe,{separator:e(be,{fontSize:"small"}),children:[e($,{to:"/home/alumno",style:{color:"gray",textDecoration:"none"},children:e(d,{fontWeight:"bold",component:"h1",variant:g?"body1":"caption",sx:{textAlign:"left","&:hover":{textDecoration:"underline"}},children:"Listado Alumnos"})}),e(d,{fontWeight:"bold",variant:g?"h6":"body1",sx:{textAlign:"left"},children:"Detalle Alumno"})]}),children:a(l,{component:"form",gap:3,onSubmit:q,children:[a(de,{children:[e(me,{matricula:c?{alumno:c}:null,formState:S,onInputChange:w,grados:H,edit:s}),e(he,{matricula:c?{alumno:c}:null,formState:S,onInputChange:w,ubicacion:G,loading:V,setUbication:I,edit:s}),e(ue,{matricula:c?{alumno:c}:null,formState:S,onInputChange:w,edit:s})]}),e(d,{component:"h1",variant:"h6",sx:{textAlign:"left"},children:"Matriculas"}),e(le,{sx:{width:"100%"},component:"nav",children:c&&c.matriculas.map((u,Ee)=>e(Me,{matricula:u}))}),s&&a(ce,{variant:"contained",color:"primary",type:"submit",children:[" ",e(ve,{sx:{mr:1}})," Guardar matricula"]})]})})};export{Xe as DetailStudent,Xe as default};
