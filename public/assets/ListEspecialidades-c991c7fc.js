import{f as j,g as v,r as i,j as d,l as N,b as t}from"./index-b05c3593.js";import{u as O}from"./useSpecializations-d4d20def.js";import{S as R}from"./SearchBar-7bd1490d.js";import{T,V}from"./TableCRUD-26e7d6da.js";import{C as m}from"./CustomActionCRUD-56f80e1a.js";import{P as k}from"./Page-87bac860.js";import{a as y}from"./utilities-59a1cf49.js";import{U as A,P as H}from"./TextfieldsTools-ddad1e93.js";import{U as B}from"./UserInfo-ca2e0ba6.js";import{E as W}from"./Edit-18203eee.js";import{P as Y}from"./Print-c93fef86.js";import"./specialization.service-3d04622c.js";import"./GlobalAlerts-e291f7f6.js";import"./schedule.service-5bfabb81.js";import"./careers.service-c54b684b.js";import"./CustomSelectSearch-f02217ed.js";import"./Autocomplete-7a426b1a.js";import"./CircularProgress-eeae7465.js";import"./MenuItem-d8a67f6c.js";import"./InputAdornment-b1693cda.js";import"./index-3b733f26.js";import"./CustomSelectSearchLabel-0730f57a.js";import"./Tooltip-8a46e05f.js";import"./RowCRUD-b35830b8.js";import"./TableRow-52fc41de.js";import"./TableContainer-10b5223d.js";import"./TableHead-f4539647.js";import"./SelectCustom-ab67c468.js";const Ca=({toggleDrawer:g})=>{const p=j(),{user:f,isLoading:J,token:h}=v(e=>e.user),b={token:h,anio:new Date().getFullYear(),mes:new Date().getMonth(),sede:f.sede.uuid,searchFor:"-",search:"",inicio:"",horario:"",especializacion:""},D=O(b),{matriculas:o,getpdf:S,getListMatriculas:w,formState:s,onInputChange:E,setFormState:M,getListSpecializations:P,data:z}=D,[r,n]=i.useState([]),[u,l]=i.useState(!1),[C,F]=i.useState(null),U=()=>{l(!u)},x=e=>{l(!0),F(e)},L=e=>{p(`/home/matricula/especialidades/${r[e].uuid}`)},$=e=>{p(`/home/matricula/especialidades/${r[e].uuid}?edit=true`)},c=e=>e.map((a,I)=>({filters:[a.especializacion.nombre,a.pagoMatricula?"Pagado":"Pendiente",a.secretaria.uuid],index:I,uuid:a.uuid,fechaInscripcion:y(a.fecha_inscripcion),nombres:`${a.alumno.nombres} ${a.alumno.ape_paterno} ${a.alumno.ape_materno}`,nombre:a.alumno.nombres.toLowerCase(),apellidos:`${a.alumno.ape_paterno} ${a.alumno.ape_materno}`.toLowerCase(),dni:a.alumno.dni,especializacion:a.especializacion.nombre,date:new Date(a.fecha_inscripcion),responsable:t(A,{handleUser:x,user:a.secretaria}),pago:t(H,{pagoMatricula:a.pagoMatricula,uuid:a.pagoMatricula?a.pagoMatricula.uuid:""})})),_=[t(m,{action:e=>{$(e)},children:t(W,{})}),t(m,{action:L,children:t(V,{})}),t(m,{action:e=>{S(r[e].uuid)},children:t(Y,{})})];return i.useEffect(()=>{w().then(e=>{n(c(e))})},[s.anio,s.mes]),i.useEffect(()=>{n(c(o))},[o]),i.useEffect(()=>{P()},[]),d(k,{title:"Listado de Matriculas - Especialidad",toggleDrawer:g,children:[d(N,{gap:2,maxHeight:"100%",children:[t(R,{data:r,formState:s,setFormState:M,onInputChange:E,OriginalData:c(o),setData:n,date:!0,filter:!0,vOpt:!0,especialidades:z,espes:!0,pago:!0,sort:!0,headerDate:!0,secretaria:!0}),t(T,{data:r,headers:q,dataTypes:G,extraActions:_,rows:10})]}),t(B,{onClose:U,open:u,user:C})]})},q=[{name:"Fecha Matricula",align:"center"},{name:"Pago",align:"center"},{name:"Nombre",align:"center"},{name:"DNI",align:"center"},{name:"Especializaci√≤n",align:"center"},{name:"Responsable",align:"center"}],G=["fechaInscripcion","pago","nombres","dni","especializacion","responsable"];export{Ca as default};
